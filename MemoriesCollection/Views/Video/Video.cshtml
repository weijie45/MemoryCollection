@model MemoriesCollection.ViewModels.PageTableViewModel
<!-- Boxes -->
@foreach (var dr in Model.VideoList) {
    var videoNo = dr.VideoNo.ToString();
    var encryptNo = Key.Encrypt(videoNo);
    var ext = dr.FileExt;
    var name = dr.FileName;
    var desc = dr.FileDesc;
    var location = dr.Location.FixNull();
    var person = dr.Person.FixNull();
    var dwName = $"{name}{ext}";
    var fileName = $"{videoNo}{ext}";
    int width = dr.Width;
    int height = dr.Height;
    int size = dr.Size;
    string video = $"{videoNo}{ext}";
    var imgUrl = Url.Action("GetLocal", "Files", new { t = Key.Encrypt(new { Root = AppConfig.VideoThbPath, Folder = "", FileName = videoNo + ".jpg" }) });
    var dwUrl = Url.Action("GetLocal", "Files", new { t = Key.Encrypt(new { Root = AppConfig.VideoPath, Folder = "", FileName = fileName, DwName = dwName }) });

    <div class="box">
        <a href="#" class="image fit showVideo" data-params="@($"{encryptNo}*/*{ext}")">
            <img src="@(imgUrl)" alt="@name" />
        </a>
        <div class="inner">
            <h3 class="txt-black">
                @name <i class="fa fa-info-circle v-title" aria-hidden="true"></i>
            </h3>
            <p class="videoInfo txt-deepPink hidden">@($"長:{dr.Height} / 寬:{dr.Width} / 長度:{Key.FormatNumber(dr.Size / 1000000)}Mb")</p>
            <p class="txt-white">@dr.OrgCreateDateTime</p>

            @if (location != "" || person != "") {
                <p>
                    @if (location != "") {
                        <span class="txt-white">#@location</span><br />
                    }
                    @if (person != "") {
                        <span class="txt-white">#@person</span>
                    }
                </p>
            }
            <a href="#" onclick="EditVideo('@encryptNo')" class="button btn-red">編輯</a>
            <a href="@dwUrl" class="button btn-c2">下載</a>

        </div>
    </div>
}


@if (Model.VideoList.Count() == 0) {
    <div class="txt-c txt-red msg-info">
        <span>@AppConfig.NoData</span>
    </div>
}